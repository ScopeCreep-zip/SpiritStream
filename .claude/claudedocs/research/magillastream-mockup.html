<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MagillaStream - Multi-Destination Streaming</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <style>
:root {
  --violet-50:#F5F3FF;--violet-100:#EDE9FE;--violet-200:#DDD6FE;--violet-300:#C4B5FD;
  --violet-400:#A78BFA;--violet-500:#8B5CF6;--violet-600:#7C3AED;--violet-700:#6D28D9;
  --violet-800:#5B21B6;--violet-900:#4C1D95;--violet-950:#2E1065;
  --fuchsia-400:#E879F9;--fuchsia-500:#D946EF;--fuchsia-600:#C026D3;
  --pink-400:#F472B6;--pink-500:#EC4899;--pink-600:#DB2777;
  --bg-base:#FAFAFA;--bg-surface:#FFFFFF;--bg-elevated:#FFFFFF;--bg-muted:#F4F2F7;--bg-sunken:#EFECF3;
  --bg-overlay:rgba(31,26,41,0.6);--bg-hover:rgba(124,58,237,0.06);--bg-selected:#EDE9FE;
  --text-primary:#1F1A29;--text-secondary:#5E5472;--text-tertiary:#756A8A;--text-muted:#9489A8;
  --text-disabled:#B8AECA;--text-inverse:#FFFFFF;
  --primary:#7C3AED;--primary-hover:#6D28D9;--primary-subtle:#EDE9FE;--primary-muted:#F5F3FF;
  --secondary:#C026D3;--accent:#DB2777;
  --border-default:#E9E5EF;--border-muted:#F4F2F7;--border-strong:#D8D1E2;--border-interactive:#7C3AED;
  --shadow-sm:0 1px 3px rgba(31,26,41,0.08);--shadow-md:0 4px 6px rgba(31,26,41,0.1);
  --shadow-lg:0 10px 20px rgba(31,26,41,0.12);--shadow-xl:0 20px 40px rgba(31,26,41,0.15);
  --success:#059669;--success-subtle:#ECFDF5;--success-text:#065F46;--success-border:#34D399;
  --warning:#D97706;--warning-subtle:#FFFBEB;--warning-text:#92400E;--warning-border:#FBBF24;
  --error:#DC2626;--error-subtle:#FEF2F2;--error-text:#991B1B;--error-border:#F87171;
  --status-live:#10B981;--status-live-bg:#ECFDF5;--status-live-text:#065F46;
  --status-offline:#9489A8;--status-offline-bg:#F4F2F7;--status-offline-text:#5E5472;
  --gradient-brand:linear-gradient(135deg,#7C3AED 0%,#C026D3 50%,#DB2777 100%);
  --sidebar-width:260px;
}
[data-theme="dark"] {
  --bg-base:#0F0A14;--bg-surface:#1A1225;--bg-elevated:#251A33;--bg-muted:#1A1225;--bg-sunken:#0A0710;
  --bg-overlay:rgba(0,0,0,0.75);--bg-hover:rgba(167,139,250,0.1);--bg-selected:#2E1A4A;
  --text-primary:#F4F2F7;--text-secondary:#D8D1E2;--text-tertiary:#B8AECA;--text-muted:#9489A8;
  --text-disabled:#5E5472;--text-inverse:#1F1A29;
  --primary:#A78BFA;--primary-hover:#C4B5FD;--primary-subtle:#2E1A4A;--primary-muted:#1E1433;
  --secondary:#E879F9;--accent:#F472B6;
  --border-default:#3D3649;--border-muted:#2D2838;--border-strong:#5E5472;--border-interactive:#A78BFA;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.4);--shadow-md:0 4px 6px rgba(0,0,0,0.5);
  --shadow-lg:0 10px 20px rgba(0,0,0,0.5);--shadow-xl:0 20px 40px rgba(0,0,0,0.6);
  --success:#34D399;--success-subtle:#052E16;--success-text:#6EE7B7;--success-border:#10B981;
  --warning:#FBBF24;--warning-subtle:#451A03;--warning-text:#FCD34D;--warning-border:#F59E0B;
  --error:#F87171;--error-subtle:#450A0A;--error-text:#FCA5A5;--error-border:#EF4444;
  --status-live:#34D399;--status-live-bg:#052E16;--status-live-text:#6EE7B7;
  --status-offline:#756A8A;--status-offline-bg:#1A1225;--status-offline-text:#B8AECA;
  --gradient-brand:linear-gradient(135deg,#A78BFA 0%,#E879F9 50%,#F472B6 100%);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px;-webkit-font-smoothing:antialiased}
body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-base);color:var(--text-primary);line-height:1.5;min-height:100vh}
::-webkit-scrollbar{width:8px;height:8px}
::-webkit-scrollbar-track{background:var(--bg-muted)}
::-webkit-scrollbar-thumb{background:var(--border-strong);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}
.app{display:flex;min-height:100vh}
.sidebar{width:var(--sidebar-width);background:var(--bg-surface);border-right:1px solid var(--border-default);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100}
.sidebar-header{padding:1.25rem 1rem;border-bottom:1px solid var(--border-muted);display:flex;align-items:center;gap:0.75rem}
.logo{width:40px;height:40px;background:var(--gradient-brand);border-radius:10px;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:1.25rem;box-shadow:var(--shadow-md)}
.app-name{font-weight:700;font-size:1.125rem;background:var(--gradient-brand);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.sidebar-nav{flex:1;padding:1rem 0.75rem;overflow-y:auto}
.nav-section{margin-bottom:1.5rem}
.nav-section-title{font-size:0.6875rem;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-tertiary);padding:0 0.75rem;margin-bottom:0.5rem}
.nav-item{display:flex;align-items:center;gap:0.75rem;padding:0.625rem 0.75rem;border-radius:0.5rem;color:var(--text-secondary);text-decoration:none;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.15s;border:none;background:transparent;width:100%;text-align:left}
.nav-item:hover{background:var(--bg-hover);color:var(--text-primary)}
.nav-item.active{background:var(--primary-subtle);color:var(--primary)}
.nav-item i{width:20px;height:20px}
.nav-badge{margin-left:auto;background:var(--primary);color:white;font-size:0.6875rem;font-weight:600;padding:0.125rem 0.5rem;border-radius:9999px}
.sidebar-footer{padding:1rem;border-top:1px solid var(--border-muted)}
.main{flex:1;margin-left:var(--sidebar-width);display:flex;flex-direction:column}
.header{background:var(--bg-surface);border-bottom:1px solid var(--border-default);padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50}
.header-left{display:flex;align-items:center;gap:1rem}
.page-title{font-size:1.25rem;font-weight:600}
.header-right{display:flex;align-items:center;gap:0.75rem}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.625rem 1rem;font-weight:500;font-size:0.875rem;border-radius:0.5rem;transition:all 0.15s;cursor:pointer;border:none;font-family:inherit}
.btn:focus-visible{outline:3px solid var(--primary);outline-offset:2px}
.btn:disabled{opacity:0.5;cursor:not-allowed}
.btn-primary{background:var(--primary);color:white}
.btn-primary:hover:not(:disabled){background:var(--primary-hover)}
.btn-secondary{background:var(--secondary);color:white}
.btn-outline{background:transparent;color:var(--primary);border:2px solid var(--primary)}
.btn-outline:hover:not(:disabled){background:var(--primary-subtle)}
.btn-ghost{background:transparent;color:var(--text-secondary)}
.btn-ghost:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary)}
.btn-destructive{background:var(--error);color:white}
.btn-icon{width:36px;height:36px;padding:0}
.btn-sm{padding:0.375rem 0.75rem;font-size:0.8125rem}
.btn-lg{padding:0.75rem 1.5rem;font-size:1rem}
.content{flex:1;padding:1.5rem;overflow-y:auto}
.card{background:var(--bg-surface);border:1px solid var(--border-default);border-radius:0.75rem;box-shadow:var(--shadow-sm)}
.card-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border-muted);display:flex;align-items:center;justify-content:space-between}
.card-title{font-size:1rem;font-weight:600}
.card-desc{font-size:0.875rem;color:var(--text-secondary);margin-top:0.25rem}
.card-body{padding:1.5rem}
.card-footer{padding:1rem 1.5rem;border-top:1px solid var(--border-muted);background:var(--bg-muted);border-radius:0 0 0.75rem 0.75rem}
.grid{display:grid;gap:1.5rem}
.grid-2{grid-template-columns:repeat(2,1fr)}
.grid-3{grid-template-columns:repeat(3,1fr)}
.grid-4{grid-template-columns:repeat(4,1fr)}
@media(max-width:1200px){.grid-4,.grid-3{grid-template-columns:repeat(2,1fr)}}
@media(max-width:768px){.grid-4,.grid-3,.grid-2{grid-template-columns:1fr}}
.form-group{margin-bottom:1rem}
.form-label{display:block;margin-bottom:0.375rem;font-size:0.875rem;font-weight:500}
.form-input{width:100%;padding:0.625rem 0.875rem;font-size:0.875rem;color:var(--text-primary);background:var(--bg-sunken);border:2px solid var(--border-strong);border-radius:0.5rem;transition:all 0.15s;font-family:inherit}
.form-input::placeholder{color:var(--text-muted)}
.form-input:focus{outline:none;border-color:var(--border-interactive);box-shadow:0 0 0 3px var(--primary-muted)}
.form-select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23756A8A' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 0.75rem center;padding-right:2.5rem}
.form-helper{margin-top:0.375rem;font-size:0.75rem;color:var(--text-tertiary)}
.toggle{position:relative;width:44px;height:24px;cursor:pointer;display:inline-block}
.toggle input{opacity:0;width:0;height:0}
.toggle-slider{position:absolute;inset:0;background:var(--border-strong);border-radius:9999px;transition:0.2s}
.toggle-slider::before{content:'';position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:white;border-radius:50%;transition:0.2s;box-shadow:var(--shadow-sm)}
.toggle input:checked+.toggle-slider{background:var(--primary)}
.toggle input:checked+.toggle-slider::before{transform:translateX(20px)}
.badge{display:inline-flex;align-items:center;gap:0.375rem;padding:0.25rem 0.625rem;font-size:0.75rem;font-weight:500;border-radius:9999px}
.badge-dot{width:6px;height:6px;border-radius:50%}
.badge-live{background:var(--status-live-bg);color:var(--status-live-text)}
.badge-live .badge-dot{background:var(--status-live);animation:pulse 2s infinite}
.badge-offline{background:var(--status-offline-bg);color:var(--status-offline-text)}
.badge-offline .badge-dot{background:var(--status-offline)}
.badge-error{background:var(--error-subtle);color:var(--error-text)}
.badge-error .badge-dot{background:var(--error)}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.stream-card{background:var(--bg-surface);border:1px solid var(--border-default);border-radius:0.75rem;padding:1rem;transition:all 0.15s}
.stream-card:hover{border-color:var(--border-interactive);box-shadow:var(--shadow-md)}
.stream-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.75rem}
.stream-platform{display:flex;align-items:center;gap:0.5rem}
.stream-icon{width:32px;height:32px;border-radius:0.375rem;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:0.75rem;color:white}
.stream-icon.youtube{background:#FF0000}
.stream-icon.twitch{background:#9146FF}
.stream-icon.kick{background:#53FC18;color:#000}
.stream-icon.facebook{background:#1877F2}
.stream-icon.custom{background:var(--primary)}
.stream-name{font-weight:600;font-size:0.875rem}
.stream-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:0.75rem;padding-top:0.75rem;border-top:1px solid var(--border-muted)}
.stat{text-align:center}
.stat-value{font-size:0.875rem;font-weight:600}
.stat-label{font-size:0.6875rem;color:var(--text-tertiary);text-transform:uppercase}
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}
.stat-box{background:var(--bg-surface);border:1px solid var(--border-default);border-radius:0.75rem;padding:1.25rem}
.stat-box-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.5rem}
.stat-box-label{font-size:0.8125rem;color:var(--text-secondary)}
.stat-box-icon{color:var(--text-tertiary)}
.stat-box-value{font-size:1.5rem;font-weight:700}
.stat-box-change{font-size:0.75rem;margin-top:0.25rem;color:var(--text-tertiary)}
.stat-box-change.positive{color:var(--success-text)}
.profile-card{background:var(--bg-surface);border:2px solid var(--border-default);border-radius:0.75rem;padding:1.25rem;cursor:pointer;transition:all 0.15s}
.profile-card:hover{border-color:var(--border-interactive);transform:translateY(-2px);box-shadow:var(--shadow-md)}
.profile-card.active{border-color:var(--primary);background:var(--primary-muted)}
.profile-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.75rem}
.profile-name{font-weight:600}
.profile-meta{display:flex;gap:1rem;font-size:0.8125rem;color:var(--text-secondary)}
.profile-meta-item{display:flex;align-items:center;gap:0.25rem}
.log-console{background:var(--bg-sunken);border:1px solid var(--border-default);border-radius:0.5rem;font-family:'JetBrains Mono',monospace;font-size:0.75rem;max-height:300px;overflow-y:auto}
.log-entry{padding:0.375rem 0.75rem;display:flex;gap:0.75rem;border-bottom:1px solid var(--border-muted)}
.log-entry:last-child{border-bottom:none}
.log-time{color:var(--text-muted);white-space:nowrap}
.log-level{font-weight:600;width:50px}
.log-level.info{color:var(--primary)}
.log-level.warn{color:var(--warning-text)}
.log-level.error{color:var(--error-text)}
.log-level.debug{color:var(--text-tertiary)}
.log-msg{color:var(--text-primary);word-break:break-word}
.modal-overlay{position:fixed;inset:0;background:var(--bg-overlay);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all 0.2s}
.modal-overlay.active{opacity:1;visibility:visible}
.modal{background:var(--bg-surface);border-radius:0.75rem;box-shadow:var(--shadow-xl);width:100%;max-width:500px;max-height:90vh;overflow:hidden;transform:scale(0.95);transition:transform 0.2s}
.modal-overlay.active .modal{transform:scale(1)}
.modal-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border-muted);display:flex;align-items:center;justify-content:space-between}
.modal-title{font-size:1.125rem;font-weight:600}
.modal-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:0.375rem;color:var(--text-tertiary);background:transparent;border:none;cursor:pointer;transition:all 0.15s}
.modal-close:hover{background:var(--bg-hover);color:var(--text-primary)}
.modal-body{padding:1.5rem;overflow-y:auto}
.modal-footer{padding:1rem 1.5rem;border-top:1px solid var(--border-muted);display:flex;justify-content:flex-end;gap:0.75rem}
.alert{padding:1rem;border-radius:0.5rem;display:flex;gap:0.75rem;margin-bottom:1rem}
.alert-icon{flex-shrink:0}
.alert-content{flex:1}
.alert-title{font-weight:600;margin-bottom:0.25rem}
.alert-desc{font-size:0.875rem}
.alert-info{background:var(--primary-muted);border:1px solid var(--primary);color:var(--primary)}
.alert-success{background:var(--success-subtle);border:1px solid var(--success-border);color:var(--success-text)}
.alert-warning{background:var(--warning-subtle);border:1px solid var(--warning-border);color:var(--warning-text)}
.alert-error{background:var(--error-subtle);border:1px solid var(--error-border);color:var(--error-text)}
.output-group{background:var(--bg-muted);border:1px solid var(--border-default);border-radius:0.75rem;margin-bottom:1rem}
.output-group-header{padding:1rem 1.25rem;display:flex;align-items:center;justify-content:space-between;cursor:pointer}
.output-group-title{display:flex;align-items:center;gap:0.75rem}
.output-group-name{font-weight:600}
.output-group-info{font-size:0.8125rem;color:var(--text-secondary)}
.output-group-body{padding:0 1.25rem 1.25rem;display:none}
.output-group.expanded .output-group-body{display:block}
.output-group-chevron{transition:transform 0.2s}
.output-group.expanded .output-group-chevron{transform:rotate(180deg)}
.view{display:none}
.view.active{display:block}
.flex{display:flex}.flex-col{flex-direction:column}.items-center{align-items:center}
.justify-between{justify-content:space-between}.justify-end{justify-content:flex-end}
.gap-1{gap:0.25rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}
.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}
.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}
.text-sm{font-size:0.875rem}.text-xs{font-size:0.75rem}
.font-medium{font-weight:500}.font-semibold{font-weight:600}
.text-secondary{color:var(--text-secondary)}.text-tertiary{color:var(--text-tertiary)}
  </style>
</head>
<body>
<div class="app">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">M</div>
      <span class="app-name">MagillaStream</span>
    </div>
    <nav class="sidebar-nav">
      <div class="nav-section">
        <div class="nav-section-title">Main</div>
        <button class="nav-item active" data-view="dashboard"><i data-lucide="layout-dashboard"></i>Dashboard</button>
        <button class="nav-item" data-view="profiles"><i data-lucide="user-circle"></i>Profiles<span class="nav-badge">3</span></button>
        <button class="nav-item" data-view="streams"><i data-lucide="radio"></i>Stream Manager</button>
      </div>
      <div class="nav-section">
        <div class="nav-section-title">Configuration</div>
        <button class="nav-item" data-view="encoder"><i data-lucide="settings-2"></i>Encoder Settings</button>
        <button class="nav-item" data-view="outputs"><i data-lucide="share-2"></i>Output Groups</button>
        <button class="nav-item" data-view="targets"><i data-lucide="target"></i>Stream Targets</button>
      </div>
      <div class="nav-section">
        <div class="nav-section-title">System</div>
        <button class="nav-item" data-view="logs"><i data-lucide="file-text"></i>Logs</button>
        <button class="nav-item" data-view="settings"><i data-lucide="cog"></i>Settings</button>
      </div>
    </nav>
    <div class="sidebar-footer">
      <div class="flex items-center justify-between">
        <span class="text-sm text-secondary">Dark Mode</span>
        <label class="toggle"><input type="checkbox" id="theme-toggle"><span class="toggle-slider"></span></label>
      </div>
    </div>
  </aside>

  <!-- Main -->
  <main class="main">
    <header class="header">
      <div class="header-left"><h1 class="page-title" id="page-title">Dashboard</h1></div>
      <div class="header-right">
        <button class="btn btn-ghost btn-icon" title="Notifications"><i data-lucide="bell"></i></button>
        <button class="btn btn-primary" id="start-stream-btn"><i data-lucide="play"></i>Start Stream</button>
      </div>
    </header>

    <div class="content">
      <!-- Dashboard -->
      <div class="view active" id="view-dashboard">
        <div class="stats-row">
          <div class="stat-box">
            <div class="stat-box-header"><span class="stat-box-label">Active Streams</span><i data-lucide="radio" class="stat-box-icon" style="width:18px;height:18px"></i></div>
            <div class="stat-box-value" id="stat-active">0</div>
            <div class="stat-box-change">Ready to start</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-header"><span class="stat-box-label">Total Bitrate</span><i data-lucide="activity" class="stat-box-icon" style="width:18px;height:18px"></i></div>
            <div class="stat-box-value" id="stat-bitrate">0 kbps</div>
            <div class="stat-box-change">—</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-header"><span class="stat-box-label">Dropped Frames</span><i data-lucide="alert-triangle" class="stat-box-icon" style="width:18px;height:18px"></i></div>
            <div class="stat-box-value" id="stat-dropped">0</div>
            <div class="stat-box-change positive">No issues</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-header"><span class="stat-box-label">Uptime</span><i data-lucide="clock" class="stat-box-icon" style="width:18px;height:18px"></i></div>
            <div class="stat-box-value" id="stat-uptime">00:00:00</div>
            <div class="stat-box-change">Not streaming</div>
          </div>
        </div>
        <div class="grid grid-2">
          <div class="card">
            <div class="card-header"><div><h3 class="card-title">Active Profile</h3><p class="card-desc">Currently selected configuration</p></div><button class="btn btn-outline btn-sm">Change</button></div>
            <div class="card-body">
              <div class="profile-card active">
                <div class="profile-header"><span class="profile-name">Gaming Stream - High Quality</span><span class="badge badge-live"><span class="badge-dot"></span>Active</span></div>
                <div class="profile-meta">
                  <span class="profile-meta-item"><i data-lucide="monitor" style="width:14px;height:14px"></i>1080p60</span>
                  <span class="profile-meta-item"><i data-lucide="gauge" style="width:14px;height:14px"></i>6000 kbps</span>
                  <span class="profile-meta-item"><i data-lucide="share-2" style="width:14px;height:14px"></i>3 targets</span>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-header"><div><h3 class="card-title">Quick Actions</h3><p class="card-desc">Common operations</p></div></div>
            <div class="card-body">
              <div class="grid grid-2 gap-3">
                <button class="btn btn-outline" onclick="showModal('modal-profile')"><i data-lucide="plus"></i>New Profile</button>
                <button class="btn btn-outline"><i data-lucide="upload"></i>Import Profile</button>
                <button class="btn btn-outline" onclick="showModal('modal-target')"><i data-lucide="target"></i>Add Target</button>
                <button class="btn btn-outline"><i data-lucide="play-circle"></i>Test Stream</button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mt-4">
          <div class="card-header"><div><h3 class="card-title">Stream Targets</h3><p class="card-desc">Configured destinations</p></div><button class="btn btn-primary btn-sm" onclick="showModal('modal-target')"><i data-lucide="plus"></i>Add Target</button></div>
          <div class="card-body">
            <div class="grid grid-3">
              <div class="stream-card">
                <div class="stream-header"><div class="stream-platform"><div class="stream-icon youtube">YT</div><span class="stream-name">YouTube Gaming</span></div><span class="badge badge-offline"><span class="badge-dot"></span>Offline</span></div>
                <div class="stream-stats"><div class="stat"><div class="stat-value">0</div><div class="stat-label">Viewers</div></div><div class="stat"><div class="stat-value">—</div><div class="stat-label">Bitrate</div></div><div class="stat"><div class="stat-value">—</div><div class="stat-label">FPS</div></div></div>
              </div>
              <div class="stream-card">
                <div class="stream-header"><div class="stream-platform"><div class="stream-icon twitch">TW</div><span class="stream-name">Twitch</span></div><span class="badge badge-offline"><span class="badge-dot"></span>Offline</span></div>
                <div class="stream-stats"><div class="stat"><div class="stat-value">0</div><div class="stat-label">Viewers</div></div><div class="stat"><div class="stat-value">—</div><div class="stat-label">Bitrate</div></div><div class="stat"><div class="stat-value">—</div><div class="stat-label">FPS</div></div></div>
              </div>
              <div class="stream-card">
                <div class="stream-header"><div class="stream-platform"><div class="stream-icon kick">K</div><span class="stream-name">Kick</span></div><span class="badge badge-offline"><span class="badge-dot"></span>Offline</span></div>
                <div class="stream-stats"><div class="stat"><div class="stat-value">0</div><div class="stat-label">Viewers</div></div><div class="stat"><div class="stat-value">—</div><div class="stat-label">Bitrate</div></div><div class="stat"><div class="stat-value">—</div><div class="stat-label">FPS</div></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Profiles -->
      <div class="view" id="view-profiles">
        <div class="flex justify-between items-center mb-4">
          <div><h2 class="font-semibold">Streaming Profiles</h2><p class="text-sm text-secondary">Manage saved configurations</p></div>
          <button class="btn btn-primary" onclick="showModal('modal-profile')"><i data-lucide="plus"></i>New Profile</button>
        </div>
        <div class="grid grid-3">
          <div class="profile-card active">
            <div class="profile-header"><span class="profile-name">Gaming Stream - High Quality</span><div class="flex gap-1"><button class="btn btn-ghost btn-icon btn-sm"><i data-lucide="pencil" style="width:14px;height:14px"></i></button><button class="btn btn-ghost btn-icon btn-sm"><i data-lucide="copy" style="width:14px;height:14px"></i></button></div></div>
            <div class="profile-meta"><span class="profile-meta-item"><i data-lucide="monitor" style="width:14px;height:14px"></i>1080p60</span><span class="profile-meta-item"><i data-lucide="gauge" style="width:14px;height:14px"></i>6000 kbps</span><span class="profile-meta-item"><i data-lucide="share-2" style="width:14px;height:14px"></i>3 targets</span></div>
          </div>
          <div class="profile-card">
            <div class="profile-header"><span class="profile-name">Low Bandwidth</span><div class="flex gap-1"><button class="btn btn-ghost btn-icon btn-sm"><i data-lucide="pencil" style="width:14px;height:14px"></i></button><button class="btn btn-ghost btn-icon btn-sm"><i data-lucide="copy" style="width:14px;height:14px"></i></button></div></div>
            <div class="profile-meta"><span class="profile-meta-item"><i data-lucide="monitor" style="width:14px;height:14px"></i>720p30</span><span class="profile-meta-item"><i data-lucide="gauge" style="width:14px;height:14px"></i>2500 kbps</span><span class="profile-meta-item"><i data-lucide="share-2" style="width:14px;height:14px"></i>2 targets</span></div>
          </div>
          <div class="profile-card">
            <div class="profile-header"><span class="profile-name">IRL Mobile</span><div class="flex gap-1"><button class="btn btn-ghost btn-icon btn-sm"><i data-lucide="pencil" style="width:14px;height:14px"></i></button><button class="btn btn-ghost btn-icon btn-sm"><i data-lucide="copy" style="width:14px;height:14px"></i></button></div></div>
            <div class="profile-meta"><span class="profile-meta-item"><i data-lucide="monitor" style="width:14px;height:14px"></i>720p30</span><span class="profile-meta-item"><i data-lucide="gauge" style="width:14px;height:14px"></i>3000 kbps</span><span class="profile-meta-item"><i data-lucide="share-2" style="width:14px;height:14px"></i>1 target</span></div>
          </div>
        </div>
      </div>

      <!-- Stream Manager -->
      <div class="view" id="view-streams">
        <div class="alert alert-info mb-4"><i data-lucide="info" class="alert-icon" style="width:20px;height:20px"></i><div class="alert-content"><div class="alert-title">No Active Streams</div><div class="alert-desc">Click "Start Stream" to begin broadcasting.</div></div></div>
        <div class="card">
          <div class="card-header"><div><h3 class="card-title">Stream Control</h3><p class="card-desc">Manage your live streams</p></div></div>
          <div class="card-body">
            <div class="output-group expanded">
              <div class="output-group-header" onclick="this.parentElement.classList.toggle('expanded')">
                <div class="output-group-title"><i data-lucide="layers" style="width:18px;height:18px;color:var(--primary)"></i><div><div class="output-group-name">Main Output Group</div><div class="output-group-info">3 targets • 1080p60 • 6000 kbps</div></div></div>
                <div class="flex items-center gap-3"><span class="badge badge-offline"><span class="badge-dot"></span>Ready</span><i data-lucide="chevron-down" class="output-group-chevron" style="width:18px;height:18px"></i></div>
              </div>
              <div class="output-group-body">
                <div class="grid grid-3 gap-3">
                  <div class="stream-card"><div class="stream-header"><div class="stream-platform"><div class="stream-icon youtube">YT</div><span class="stream-name">YouTube</span></div><label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label></div></div>
                  <div class="stream-card"><div class="stream-header"><div class="stream-platform"><div class="stream-icon twitch">TW</div><span class="stream-name">Twitch</span></div><label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label></div></div>
                  <div class="stream-card"><div class="stream-header"><div class="stream-platform"><div class="stream-icon kick">K</div><span class="stream-name">Kick</span></div><label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label></div></div>
                </div>
              </div>
            </div>
            <div class="flex justify-end gap-3 mt-4"><button class="btn btn-outline"><i data-lucide="settings"></i>Configure</button><button class="btn btn-primary btn-lg" id="start-all-btn"><i data-lucide="play"></i>Start All Streams</button></div>
          </div>
        </div>
      </div>

      <!-- Encoder -->
      <div class="view" id="view-encoder">
        <div class="card">
          <div class="card-header"><div><h3 class="card-title">Encoder Configuration</h3><p class="card-desc">Video and audio encoding settings</p></div></div>
          <div class="card-body">
            <div class="grid grid-2 gap-4">
              <div>
                <h4 class="font-semibold mb-3">Video Encoder</h4>
                <div class="form-group"><label class="form-label">Encoder</label><select class="form-input form-select"><option>x264 (Software)</option><option>NVENC H.264 (NVIDIA)</option><option>QuickSync H.264 (Intel)</option><option>AMF H.264 (AMD)</option></select><p class="form-helper">Hardware encoders have lower CPU usage</p></div>
                <div class="form-group"><label class="form-label">Preset</label><select class="form-input form-select"><option>Quality</option><option selected>Balanced</option><option>Performance</option><option>Low Latency</option></select></div>
                <div class="form-group"><label class="form-label">Rate Control</label><select class="form-input form-select"><option selected>CBR (Constant Bitrate)</option><option>VBR (Variable Bitrate)</option><option>CQP (Constant Quantizer)</option></select></div>
              </div>
              <div>
                <h4 class="font-semibold mb-3">Output Settings</h4>
                <div class="form-group"><label class="form-label">Resolution</label><select class="form-input form-select"><option selected>1920x1080 (1080p)</option><option>1280x720 (720p)</option><option>2560x1440 (1440p)</option><option>3840x2160 (4K)</option></select></div>
                <div class="form-group"><label class="form-label">Frame Rate</label><select class="form-input form-select"><option selected>60 fps</option><option>30 fps</option><option>24 fps</option></select></div>
                <div class="form-group"><label class="form-label">Video Bitrate (kbps)</label><input type="number" class="form-input" value="6000" min="1000" max="50000"><p class="form-helper">Recommended: 4500-6000 for 1080p60</p></div>
                <div class="form-group"><label class="form-label">Keyframe Interval (seconds)</label><input type="number" class="form-input" value="2" min="1" max="10"><p class="form-helper">Most platforms require 2 seconds</p></div>
              </div>
            </div>
          </div>
          <div class="card-footer flex justify-end gap-3"><button class="btn btn-ghost">Reset to Defaults</button><button class="btn btn-primary">Save Settings</button></div>
        </div>
      </div>

      <!-- Output Groups -->
      <div class="view" id="view-outputs">
        <div class="flex justify-between items-center mb-4"><div><h2 class="font-semibold">Output Groups</h2><p class="text-sm text-secondary">Configure multiple output configurations</p></div><button class="btn btn-primary"><i data-lucide="plus"></i>New Output Group</button></div>
        <div class="card mb-4">
          <div class="card-header"><div class="flex items-center gap-3"><i data-lucide="layers" style="width:20px;height:20px;color:var(--primary)"></i><div><h3 class="card-title">Main Output Group</h3><p class="card-desc">High quality stream for all platforms</p></div></div><div class="flex gap-2"><button class="btn btn-ghost btn-sm"><i data-lucide="pencil"></i>Edit</button><button class="btn btn-ghost btn-sm"><i data-lucide="copy"></i>Duplicate</button></div></div>
          <div class="card-body">
            <div class="grid grid-4 gap-4 mb-4"><div><div class="text-xs text-tertiary mb-1">Resolution</div><div class="font-semibold">1920x1080</div></div><div><div class="text-xs text-tertiary mb-1">Frame Rate</div><div class="font-semibold">60 fps</div></div><div><div class="text-xs text-tertiary mb-1">Video Bitrate</div><div class="font-semibold">6000 kbps</div></div><div><div class="text-xs text-tertiary mb-1">Encoder</div><div class="font-semibold">NVENC H.264</div></div></div>
            <div class="text-sm text-secondary"><strong>Targets:</strong> YouTube Gaming, Twitch, Kick</div>
          </div>
        </div>
        <div class="card">
          <div class="card-header"><div class="flex items-center gap-3"><i data-lucide="layers" style="width:20px;height:20px;color:var(--secondary)"></i><div><h3 class="card-title">Low Bandwidth Group</h3><p class="card-desc">Optimized for limited upload</p></div></div><div class="flex gap-2"><button class="btn btn-ghost btn-sm"><i data-lucide="pencil"></i>Edit</button><button class="btn btn-ghost btn-sm"><i data-lucide="copy"></i>Duplicate</button></div></div>
          <div class="card-body">
            <div class="grid grid-4 gap-4 mb-4"><div><div class="text-xs text-tertiary mb-1">Resolution</div><div class="font-semibold">1280x720</div></div><div><div class="text-xs text-tertiary mb-1">Frame Rate</div><div class="font-semibold">30 fps</div></div><div><div class="text-xs text-tertiary mb-1">Video Bitrate</div><div class="font-semibold">2500 kbps</div></div><div><div class="text-xs text-tertiary mb-1">Encoder</div><div class="font-semibold">x264</div></div></div>
            <div class="text-sm text-secondary"><strong>Targets:</strong> Facebook Live</div>
          </div>
        </div>
      </div>

      <!-- Targets -->
      <div class="view" id="view-targets">
        <div class="flex justify-between items-center mb-4"><div><h2 class="font-semibold">Stream Targets</h2><p class="text-sm text-secondary">Configure streaming destinations</p></div><button class="btn btn-primary" onclick="showModal('modal-target')"><i data-lucide="plus"></i>Add Target</button></div>
        <div class="grid grid-2 gap-4">
          <div class="card"><div class="card-body">
            <div class="flex items-center gap-3 mb-4"><div class="stream-icon youtube">YT</div><div><h4 class="font-semibold">YouTube Gaming</h4><p class="text-sm text-secondary">rtmp://a.rtmp.youtube.com/live2</p></div></div>
            <div class="form-group"><label class="form-label">Stream Key</label><div class="flex gap-2"><input type="password" class="form-input" value="xxxx-xxxx-xxxx-xxxx" readonly><button class="btn btn-ghost btn-icon"><i data-lucide="eye"></i></button><button class="btn btn-ghost btn-icon"><i data-lucide="copy"></i></button></div></div>
            <div class="flex justify-end gap-2 mt-4"><button class="btn btn-ghost btn-sm"><i data-lucide="pencil"></i>Edit</button><button class="btn btn-ghost btn-sm" style="color:var(--error)"><i data-lucide="trash-2"></i>Delete</button></div>
          </div></div>
          <div class="card"><div class="card-body">
            <div class="flex items-center gap-3 mb-4"><div class="stream-icon twitch">TW</div><div><h4 class="font-semibold">Twitch</h4><p class="text-sm text-secondary">rtmp://live.twitch.tv/app</p></div></div>
            <div class="form-group"><label class="form-label">Stream Key</label><div class="flex gap-2"><input type="password" class="form-input" value="live_xxxxxxxxxx" readonly><button class="btn btn-ghost btn-icon"><i data-lucide="eye"></i></button><button class="btn btn-ghost btn-icon"><i data-lucide="copy"></i></button></div></div>
            <div class="flex justify-end gap-2 mt-4"><button class="btn btn-ghost btn-sm"><i data-lucide="pencil"></i>Edit</button><button class="btn btn-ghost btn-sm" style="color:var(--error)"><i data-lucide="trash-2"></i>Delete</button></div>
          </div></div>
          <div class="card"><div class="card-body">
            <div class="flex items-center gap-3 mb-4"><div class="stream-icon kick">K</div><div><h4 class="font-semibold">Kick</h4><p class="text-sm text-secondary">rtmps://fa723fc1b171.global-contribute.live-video.net/app</p></div></div>
            <div class="form-group"><label class="form-label">Stream Key</label><div class="flex gap-2"><input type="password" class="form-input" value="sk_xxxxxxxxxxxx" readonly><button class="btn btn-ghost btn-icon"><i data-lucide="eye"></i></button><button class="btn btn-ghost btn-icon"><i data-lucide="copy"></i></button></div></div>
            <div class="flex justify-end gap-2 mt-4"><button class="btn btn-ghost btn-sm"><i data-lucide="pencil"></i>Edit</button><button class="btn btn-ghost btn-sm" style="color:var(--error)"><i data-lucide="trash-2"></i>Delete</button></div>
          </div></div>
          <div class="card" style="border-style:dashed;display:flex;align-items:center;justify-content:center;min-height:200px"><button class="btn btn-ghost" onclick="showModal('modal-target')"><i data-lucide="plus"></i>Add New Target</button></div>
        </div>
      </div>

      <!-- Logs -->
      <div class="view" id="view-logs">
        <div class="card">
          <div class="card-header"><div><h3 class="card-title">Application Logs</h3><p class="card-desc">Real-time logging output</p></div><div class="flex gap-2"><select class="form-input form-select" style="width:auto"><option>All Levels</option><option>Info</option><option>Warning</option><option>Error</option></select><button class="btn btn-ghost btn-sm"><i data-lucide="download"></i>Export</button><button class="btn btn-ghost btn-sm"><i data-lucide="trash-2"></i>Clear</button></div></div>
          <div class="card-body" style="padding:0">
            <div class="log-console" id="log-console">
              <div class="log-entry"><span class="log-time">12:00:00</span><span class="log-level info">INFO</span><span class="log-msg">MagillaStream initialized</span></div>
              <div class="log-entry"><span class="log-time">12:00:01</span><span class="log-level info">INFO</span><span class="log-msg">FFmpeg version 6.1 detected</span></div>
              <div class="log-entry"><span class="log-time">12:00:01</span><span class="log-level info">INFO</span><span class="log-msg">Hardware encoders: NVENC, QuickSync</span></div>
              <div class="log-entry"><span class="log-time">12:00:02</span><span class="log-level debug">DEBUG</span><span class="log-msg">Loaded profile: Gaming Stream - High Quality</span></div>
              <div class="log-entry"><span class="log-time">12:00:02</span><span class="log-level info">INFO</span><span class="log-msg">3 stream targets configured</span></div>
              <div class="log-entry"><span class="log-time">12:00:03</span><span class="log-level warn">WARN</span><span class="log-msg">YouTube stream key expires in 7 days</span></div>
              <div class="log-entry"><span class="log-time">12:00:03</span><span class="log-level info">INFO</span><span class="log-msg">Ready to stream</span></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings -->
      <div class="view" id="view-settings">
        <div class="grid grid-2 gap-4">
          <div class="card"><div class="card-header"><h3 class="card-title">General Settings</h3></div><div class="card-body">
            <div class="form-group"><label class="form-label">Language</label><select class="form-input form-select"><option>English</option><option>Spanish</option><option>French</option></select></div>
            <div class="form-group"><div class="flex items-center justify-between"><div><label class="form-label" style="margin:0">Start Minimized</label><p class="text-xs text-tertiary">Start in system tray</p></div><label class="toggle"><input type="checkbox"><span class="toggle-slider"></span></label></div></div>
            <div class="form-group"><div class="flex items-center justify-between"><div><label class="form-label" style="margin:0">Show Notifications</label><p class="text-xs text-tertiary">Display system notifications</p></div><label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label></div></div>
          </div></div>
          <div class="card"><div class="card-header"><h3 class="card-title">FFmpeg Configuration</h3></div><div class="card-body">
            <div class="form-group"><label class="form-label">FFmpeg Path</label><div class="flex gap-2"><input type="text" class="form-input" value="/usr/local/bin/ffmpeg" readonly><button class="btn btn-outline">Browse</button></div><p class="form-helper">Auto-detected installation</p></div>
            <div class="form-group"><label class="form-label">FFmpeg Version</label><input type="text" class="form-input" value="ffmpeg version 6.1" disabled></div>
            <div class="form-group"><div class="flex items-center justify-between"><div><label class="form-label" style="margin:0">Auto-Download FFmpeg</label><p class="text-xs text-tertiary">Download if not found</p></div><label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label></div></div>
          </div></div>
          <div class="card"><div class="card-header"><h3 class="card-title">Data & Privacy</h3></div><div class="card-body">
            <div class="form-group"><label class="form-label">Profile Storage</label><div class="flex gap-2"><input type="text" class="form-input" value="~/.magillastream/profiles" readonly><button class="btn btn-outline">Open</button></div></div>
            <div class="form-group"><div class="flex items-center justify-between"><div><label class="form-label" style="margin:0">Encrypt Stream Keys</label><p class="text-xs text-tertiary">AES-256-GCM encryption</p></div><label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label></div></div>
            <div class="flex gap-2 mt-4"><button class="btn btn-outline"><i data-lucide="download"></i>Export Data</button><button class="btn btn-destructive"><i data-lucide="trash-2"></i>Clear All Data</button></div>
          </div></div>
          <div class="card"><div class="card-header"><h3 class="card-title">About</h3></div><div class="card-body">
            <div class="flex items-center gap-4 mb-4"><div class="logo">M</div><div><h4 class="font-semibold">MagillaStream</h4><p class="text-sm text-secondary">Version 2.0.0 (Tauri)</p></div></div>
            <p class="text-sm text-secondary mb-4">Multi-destination streaming with Tauri 2.0 and FFmpeg.</p>
            <div class="flex gap-2"><button class="btn btn-outline btn-sm"><i data-lucide="github"></i>GitHub</button><button class="btn btn-outline btn-sm"><i data-lucide="book-open"></i>Docs</button><button class="btn btn-outline btn-sm"><i data-lucide="refresh-cw"></i>Updates</button></div>
          </div></div>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- New Profile Modal -->
<div class="modal-overlay" id="modal-profile">
  <div class="modal">
    <div class="modal-header"><h3 class="modal-title">Create New Profile</h3><button class="modal-close" onclick="hideModal('modal-profile')"><i data-lucide="x"></i></button></div>
    <div class="modal-body">
      <div class="form-group"><label class="form-label">Profile Name</label><input type="text" class="form-input" placeholder="e.g., Gaming Stream"></div>
      <div class="form-group"><label class="form-label">Resolution</label><select class="form-input form-select"><option>1920x1080 (1080p)</option><option>1280x720 (720p)</option></select></div>
      <div class="form-group"><label class="form-label">Frame Rate</label><select class="form-input form-select"><option>60 fps</option><option>30 fps</option></select></div>
      <div class="form-group"><label class="form-label">Video Bitrate (kbps)</label><input type="number" class="form-input" value="6000"></div>
    </div>
    <div class="modal-footer"><button class="btn btn-ghost" onclick="hideModal('modal-profile')">Cancel</button><button class="btn btn-primary" onclick="hideModal('modal-profile')">Create Profile</button></div>
  </div>
</div>

<!-- Add Target Modal -->
<div class="modal-overlay" id="modal-target">
  <div class="modal">
    <div class="modal-header"><h3 class="modal-title">Add Stream Target</h3><button class="modal-close" onclick="hideModal('modal-target')"><i data-lucide="x"></i></button></div>
    <div class="modal-body">
      <div class="form-group"><label class="form-label">Platform</label><select class="form-input form-select"><option>YouTube</option><option>Twitch</option><option>Kick</option><option>Facebook Live</option><option>Custom RTMP</option></select></div>
      <div class="form-group"><label class="form-label">Name</label><input type="text" class="form-input" placeholder="e.g., My YouTube Channel"></div>
      <div class="form-group"><label class="form-label">Server URL</label><input type="text" class="form-input" placeholder="rtmp://"></div>
      <div class="form-group"><label class="form-label">Stream Key</label><input type="password" class="form-input" placeholder="Enter your stream key"></div>
    </div>
    <div class="modal-footer"><button class="btn btn-ghost" onclick="hideModal('modal-target')">Cancel</button><button class="btn btn-primary" onclick="hideModal('modal-target')">Add Target</button></div>
  </div>
</div>

<script>
// Initialize Lucide icons
lucide.createIcons();

// State
let isStreaming = false;
let streamTime = 0;
let streamInterval = null;

// Navigation
document.querySelectorAll('.nav-item').forEach(item => {
  item.addEventListener('click', () => {
    const view = item.dataset.view;
    if (!view) return;
    document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
    item.classList.add('active');
    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.getElementById('view-' + view).classList.add('active');
    document.getElementById('page-title').textContent = item.textContent.trim();
  });
});

// Theme toggle
const themeToggle = document.getElementById('theme-toggle');
themeToggle.addEventListener('change', () => {
  document.documentElement.setAttribute('data-theme', themeToggle.checked ? 'dark' : 'light');
});

// Check system preference
if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
  themeToggle.checked = true;
  document.documentElement.setAttribute('data-theme', 'dark');
}

// Modals
function showModal(id) {
  document.getElementById(id).classList.add('active');
}
function hideModal(id) {
  document.getElementById(id).classList.remove('active');
}
document.querySelectorAll('.modal-overlay').forEach(overlay => {
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) overlay.classList.remove('active');
  });
});

// Stream toggle
function toggleStream() {
  isStreaming = !isStreaming;
  const btn = document.getElementById('start-stream-btn');
  const startAllBtn = document.getElementById('start-all-btn');
  
  if (isStreaming) {
    btn.innerHTML = '<i data-lucide="square"></i>Stop Stream';
    btn.classList.remove('btn-primary');
    btn.classList.add('btn-destructive');
    startAllBtn.innerHTML = '<i data-lucide="square"></i>Stop All Streams';
    startAllBtn.classList.remove('btn-primary');
    startAllBtn.classList.add('btn-destructive');
    
    document.getElementById('stat-active').textContent = '3';
    document.getElementById('stat-bitrate').textContent = '18000 kbps';
    
    // Update badges
    document.querySelectorAll('.badge-offline').forEach(badge => {
      badge.classList.remove('badge-offline');
      badge.classList.add('badge-live');
      badge.innerHTML = '<span class="badge-dot"></span>Live';
    });
    
    // Start timer
    streamTime = 0;
    streamInterval = setInterval(() => {
      streamTime++;
      const h = Math.floor(streamTime / 3600).toString().padStart(2, '0');
      const m = Math.floor((streamTime % 3600) / 60).toString().padStart(2, '0');
      const s = (streamTime % 60).toString().padStart(2, '0');
      document.getElementById('stat-uptime').textContent = `${h}:${m}:${s}`;
    }, 1000);
    
    // Update stats
    document.querySelectorAll('.stat-value').forEach((el, i) => {
      if (i > 0 && el.closest('.stream-stats')) {
        const labels = ['—', '6000', '60'];
        el.textContent = labels[i % 3] || '—';
      }
    });
    
    addLog('INFO', 'Stream started to 3 targets');
  } else {
    btn.innerHTML = '<i data-lucide="play"></i>Start Stream';
    btn.classList.remove('btn-destructive');
    btn.classList.add('btn-primary');
    startAllBtn.innerHTML = '<i data-lucide="play"></i>Start All Streams';
    startAllBtn.classList.remove('btn-destructive');
    startAllBtn.classList.add('btn-primary');
    
    document.getElementById('stat-active').textContent = '0';
    document.getElementById('stat-bitrate').textContent = '0 kbps';
    
    // Update badges
    document.querySelectorAll('.badge-live').forEach(badge => {
      badge.classList.remove('badge-live');
      badge.classList.add('badge-offline');
      badge.innerHTML = '<span class="badge-dot"></span>Offline';
    });
    
    clearInterval(streamInterval);
    document.getElementById('stat-uptime').textContent = '00:00:00';
    
    addLog('INFO', 'Stream stopped');
  }
  
  lucide.createIcons();
}

document.getElementById('start-stream-btn').addEventListener('click', toggleStream);
document.getElementById('start-all-btn').addEventListener('click', toggleStream);

// Add log entry
function addLog(level, msg) {
  const console = document.getElementById('log-console');
  const now = new Date();
  const time = now.toTimeString().slice(0, 8);
  const entry = document.createElement('div');
  entry.className = 'log-entry';
  entry.innerHTML = `<span class="log-time">${time}</span><span class="log-level ${level.toLowerCase()}">${level}</span><span class="log-msg">${msg}</span>`;
  console.appendChild(entry);
  console.scrollTop = console.scrollHeight;
}
</script>
</body>
</html>
