{
  "$schema": "../gen/schemas/desktop-schema.json",
  "identifier": "default",
  "description": "Default capability for SpiritStream Desktop",
  "windows": [
    "main",
    "chat-overlay"
  ],
  "permissions": [
    "core:default",
    "core:window:default",
    "core:window:allow-create",
    "core:window:allow-show",
    "core:window:allow-set-focus",
    "core:window:allow-start-dragging",
    "core:window:allow-close",
    "core:window:allow-set-always-on-top",
    "core:webview:default",
    "core:webview:allow-create-webview",
    "core:webview:allow-create-webview-window",
    "core:app:default",
    "core:resources:default",
    "core:menu:default",
    "core:tray:default",
    "notification:default",
    "shell:allow-open",
    {
      "identifier": "shell:allow-execute",
      "allow": [
        {
          "name": "spiritstream-server",
          "sidecar": true
        }
      ]
    },
    "fs:default",
    "fs:allow-app-read",
    "fs:allow-app-write",
    "fs:allow-app-read-recursive",
    "fs:allow-app-write-recursive",
    "fs:allow-resource-read-recursive",
    "fs:allow-exists",
    "fs:allow-read",
    {
      "identifier": "fs:scope",
      "allow": [
        "$HOME/**",
        "$APPDATA/**",
        "$LOCALAPPDATA/**",
        "$DOCUMENT/**",
        "$DOWNLOAD/**",
        "$DESKTOP/**",
        "$RESOURCE/**",
        "C:\\Program Files\\**",
        "C:\\Program Files (x86)\\**",
        "/usr/local/bin/**",
        "/usr/bin/**",
        "/opt/**"
      ]
    },
    "dialog:default",
    "dialog:allow-open",
    "dialog:allow-save",
    "log:default",
    {
      "identifier": "http:default",
      "allow": [
        { "url": "http://127.0.0.1:8008" },
        { "url": "http://127.0.0.1:8008/*" },
        { "url": "http://127.0.0.1:8008/api/*" },
        { "url": "http://127.0.0.1:8008/api/invoke/*" },
        { "url": "http://localhost:8008" },
        { "url": "http://localhost:8008/*" },
        { "url": "http://localhost:8008/api/*" },
        { "url": "http://localhost:8008/api/invoke/*" }
      ]
    }
  ]
}